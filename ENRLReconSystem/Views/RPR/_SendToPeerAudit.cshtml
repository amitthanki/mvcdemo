@using ENRLReconSystem.Helpers
@using ENRLReconSystem.DO
@using ENRLReconSystem.Utility
@model DOGEN_RPRActions

<div class="clearfix">
    @Html.HiddenFor(m => m.AdjustedCreateDate)
    @Html.HiddenFor(m => m.PotentialSubmissionDate)
    @Html.HiddenFor(m => m.ApplicationDate)
    @Html.HiddenFor(m => m.EffectiveDate)
    @Html.HiddenFor(m => m.EndDate)
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.ElectionTypeLkup, "Election Period", new { @class = "required" })
        @Html.DropDownListFor(m => m.ElectionTypeLkup, new SelectList(Model.lstElectionType, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().Required("Please select Election Period").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.AdjustedCreateDate, "Adjusted Create Date")
        @Html.DateTimeFor(m => m.AdjustedCreateDate, false, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.AdjustedCreateDateReasonLkup, "Adjusted Create Date Reason", new { @class = "required" })
        @Html.DropDownListFor(m => m.AdjustedCreateDateReasonLkup, new SelectList(Model.lstAdjustedCreateDateReason, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().CustomAttributes("disabled", "disabled").CustomAttributes("id", "ddlAdjustedCreateDateReasonLkup").Required("Please select Adjusted Create Date Reason").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3" id="divOtherAdjustedCreateDateReason" hidden="hidden">
        @Html.LabelFor(m => m.OtherAdjustedCreateDateReason, "Other Adjusted Create Date Reason", new { @class = "required" })
        @Html.TextBoxFor(m => m.OtherAdjustedCreateDateReason, new CustomValidation().Required("Other Adjusted Create Date Reason is required").CustomAttributes("id", "txtOtherAdjustedCreateDateReason").CustomAttributes("disabled", "disabled").RegularExpression(RegexType.AlphabetsWithNumericSpacesAndAmpersand, "Other Adjusted Create Date Reason").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.ResolutionLkup, "Resolution" , new { @class = "required" })
        @Html.DropDownListFor(m => m.ResolutionLkup, new SelectList(Model.lstResolution, "CMN_LookupMasterChildRef", "LookupMasterChildValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().AddCssClass("form-control").Required("Resolution is required").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.RootCauseLkup, "Root Cause")
        @Html.DropDownListFor(m => m.RootCauseLkup, new SelectList(Model.lstRootCause, "CMN_LookupMasterChildRef", "LookupMasterChildValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.TransactionTypeCodeLkup, "Transaction Type Code", new { @class = "required" })
        @Html.DropDownListFor(m => m.TransactionTypeCodeLkup, new SelectList(Model.lstTransactionTypeCode, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().Required("Please select Transaction Type Code").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.VerifiedRootCauseLkup, "Verified Root Cause", new { @class = "required" })
        @Html.DropDownListFor(m => m.VerifiedRootCauseLkup, new SelectList(Model.lstVerifiedRootCause, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().Required("Please select Verified Root Cause").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.ExplanationOfRootCauseLkup, "Explanation of Root Cause", new { @class = "required" })
        @Html.DropDownListFor(m => m.ExplanationOfRootCauseLkup, new SelectList(Model.lstExplanationOfRootCause, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().Required("Please select Explanation of Root Cause").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.PotentialSubmissionDate, "Potential Submission Date")
        @Html.DateTimeFor(m => m.PotentialSubmissionDate, false, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">
        @Html.LabelFor(m => m.SubmissionTypeLkup, "Submission Type")
        @Html.DropDownListFor(m => m.SubmissionTypeLkup, new SelectList(Model.lstSubmissionType, "CMN_LookupMasterId", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.ApplicationDate, "Application Date")
        @Html.DateTimeFor(m => m.ApplicationDate, false, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.EffectiveDate, "Effective Date", new { @class = "required" })
        @Html.DateTimeFor(m => m.EffectiveDate, false, new CustomValidation().Required("Effective Date is required").AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.EndDate, "End Date")
        @Html.DateTimeFor(m => m.EndDate, false, new CustomValidation().AddCssClass("form-control").validationAttributes)
    </div>
    <div class="form-group col-md-3">

            @Html.LabelFor(m => m.PlanError, "Plan Error", new { @class = "required" })
            @Html.DropDownListFor(m => m.PlanError, new SelectList(Model.lstPlanError, "LookupValue1", "LookupValue"), ConstantTexts.dropdownDefaultValue, new CustomValidation().Required("Please select plan error.").AddCssClass("form-control").validationAttributes)

    </div>
    <div class="form-group date-group col-md-3">
        @Html.LabelFor(m => m.IncludeInTodaysSubmission, "Include In Today's Submission")
        @Html.CheckBoxFor(m => m.IncludeInTodaysSubmission, new { @class = "form-control", @id = "cbxEGHPMember" })
    </div>
    <div class="form-group textarea col-md-12">
        @Html.LabelFor(m => m.Comments, "Comments", new { @class = "required" })
        @Html.TextAreaFor(m => m.Comments, new CustomValidation().Required("Comments are Required").AddCssClass("form-control").CustomAttributes("id", "txtComments").CustomAttributes("maxlength", "4000").StringMaxLength(4000, "Comments").validationAttributes)
    </div>
</div>
<script>
    //validate and create date time picker fields
    if ('@Model.AdjustedCreateDate' != null && '@Model.AdjustedCreateDate' != '') {
        //fnSetDateToField('@Model.AdjustedCreateDate', 'AdjustedCreateDate');
        $('#AdjustedCreateDate_DPart').val(getDateTimeInMMDDYYYY('@Model.AdjustedCreateDate'));
        $('#AdjustedCreateDate_DPart').trigger('change');
    }
</script>
